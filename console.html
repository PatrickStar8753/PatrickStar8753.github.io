<html>
    <head>
        <title>Kernel</title>
        <link rel="stylesheet" href="css/style.css">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body class="scrollock">
        <div class="intro">
            <p>https://r2team.su:~$ <span id="text"></span><span id="cursor">_</span></p>
        </div>
        <div class="main hide">
            <div class="blackcont"></div>
            <div class="background">
                <img src="src/logor2team.svg"/>
            </div>
        </div>
    </body>
    <script>
        function Random(min, max) {
            return Math.floor(Math.random() * (max - min) + min);
        }

        var command = "start --tiktok".split('');
        var i = 0;
        var keypressed = false;
            setTimeout(function(){
                var interval = setInterval(function(){
                    if (!(i >= command.length)){
                        document.getElementById("text").textContent += command[i];
                        i++
                    } else {
                        clearInterval(interval);
                        setTimeout(function(){
                            document.getElementById('text').insertAdjacentHTML("afterend", `<div id="textcontainer"><p>Getting started.</p></div>`);
                            endintro('false');
                        }, 700)
                    }
                }, Random(100, 150));
            }, 2000)

        function endintro(ls){
            var masstext = ["Hacking Pentagon [✓]", "Loading Cats [✓]", "Running virus [✓]", "Creating projects [✓]", "Rendering video [✓]", "Sleeping [✓]", "Eating [✓]", "Programming [✓]", "Creating things [✓]", "One more coffee, please [✓]", "tryhnjm rtyrujm n      NaN  [✓]"];
            var masstext2 = ["Creating r2team...",
            "(|) ---------- (0%)",
            "(/) ---------- (2%)",
            "(-) ---------- (8%)",
            "(\\) #--------- (16%)",
            "(|) #--------- (17%)",
            "(/) ##-------- (24%)",
            "(-) ##-------- (25%)",
            "(\\) ##-------- (26%)",
            "(|) ##-------- (28%)",
            "(/) ###------- (32%)",
            "(-) ###------- (34%)",
            "(\\) ####------ (45%)",
            "(|) #####----- (50%)",
            "(/) #####----- (54%)",
            "(-) #####----- (56%)",
            "(\\) #####----- (58%)",
            "(|) ######---- (64%)",
            "(/) #######--- (72%)",
            "(-) #######--- (73%)",
            "(\\) #######--- (78%)",
            "(|) ########-- (80%)",
            "(/) ########-- (82%)",
            "(-) ########-- (84%)",
            "(\\) ########-- (86%)",
            "(|) #########- (90%)",
            "(/) #########- (95%)",
            "(-) #########- (98%)",
            "(\\) #########- (99%)",
            "(|) #########- (99%)",
            "(/) #########- (99%)",
            "(-) #########- (99%)",
            "(\\) #########- (99%)",
            "(|) #########- (99%)",
            "(/) #########- (99%)",
            "(-) #########- (99%)",];
            var n = 0;
            setTimeout(function(){
                var int1 = setInterval(function(){
                    if (n != masstext2.length){
                    if (n > 1)
                        document.getElementById('textcontainer').querySelectorAll('p')[document.getElementById('textcontainer').querySelectorAll('p').length - 1].remove();
                    document.getElementById('textcontainer').insertAdjacentHTML("beforeend", `<p>${masstext2[n]}</p>`);
                    n++
                } else {
                    clearInterval(int1);
                    setTimeout(function(){
                        var k = 500;
                        var interval2 = setInterval(function(){
                            if (k <= 0 || ls == "true"){
                                clearInterval(interval2);
                                window.scrollTo(0, 0);
                                document.querySelector('.intro').remove();
                                document.querySelector('.main').classList.remove('hide');
                                document.querySelector('body').classList.remove('scrollock');
                                document.querySelector('title').textContent = "Loading...";
                                localStorage.setItem('isvisited', 'true');
                                setTimeout(function(){
                                    document.getElementById('main').classList.remove('hide');
                                    document.querySelector('.box').classList.remove('hide');
                                    document.querySelector('title').textContent = "Cat.";
                                    setTimeout(function(){
                                        document.querySelectorAll('.block').forEach(function(el){el.classList.remove('hide')});
                                    }, 1870);
                                }, 1500)
                            } else {
                                k -= 1;
                                var m = Random(0, masstext.length);
                                document.getElementById('textcontainer').insertAdjacentHTML("beforeend", `<p>${masstext[m]}</p>`);
                                window.scrollTo(0, 9999);
                            }
                        }, 1);
                    }, 1000)
                }
                }, 100)
                
            }, 100)
        }
        document.addEventListener("keydown", function(){
            if(!keypressed){
                keypressed = true;
                window.scrollTo(0, 0);
                setTimeout(function(){
                    document.getElementById('main').classList.remove('hide');
                    document.querySelector('.box').classList.remove('hide');
                    var audiostartup = new Audio('src/The Microsoft Sound.wav');
                    audiostartup.play();
                    document.querySelector('title').textContent = "Cat.";
                    setTimeout(function(){
                                document.querySelectorAll('.block').forEach(function(el){el.classList.remove('hide')});
                    }, 1870);
                }, 1500)
            }
        })
    </script>
</html>